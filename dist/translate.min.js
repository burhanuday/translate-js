!function(n,e){"function"==typeof define&&define.amd?define([],e):"object"==typeof module&&module.exports?module.exports=e():n.translate=e()}(this,function(){return function n(){var u={},a="en",e=/{{\s*(\w+)\s*}}/g,f={en:{pluralizeTo:"count",getVariationIndex:function(n){return 1===n?0:1}}};function c(n,e,r){var t=(r=r||{}).locale||a,i=u[t]&&u[t][n];return void 0===i?c.whenUndefined(n,t):Array.isArray(i)?function(n,e,r,t,i){var o=f[t],u=Object.keys(r),a=1===u.length?u[0]:i||o.pluralizeTo,c=parseFloat(r[a]);if(isNaN(c))throw new Error('Tranlation pluralization missing parameters on key "'+n+'"');return l(e[o.getVariationIndex(c)],r)}(n,i,e,t,r.pluralizeTo):l(i,e)}function l(n,r){return r?n.replace(e,function(n,e){return r.hasOwnProperty(e)?r[e]:n}):n}return c.add=function(n,i,o){return u[i=i||a]=u[i]||{},function(n,e){for(var r in n)n.hasOwnProperty(r)&&e(r,n[r])}(n,function(n,e){var r=o?o+"."+n:n,t=typeof e;Array.isArray(e)||"string"==t||"number"==t?u[i][r]=e:c.add(e,i,r)}),this},c.setLocale=function(n){return a=n,this},c.getLocale=function(){return a},c.interpolateWith=function(n){return e=n,this},c.setPluralizationRule=function(n,e,r){return f[n]={pluralizeTo:r&&r.pluralizeTo||"count",getVariationIndex:e},this},c.whenUndefined=function(n,e){return n},c.clear=function(){return u={},this},c.createRegistry=function(){return n()},c}()});